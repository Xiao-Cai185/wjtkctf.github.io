function getGender(a,b,c,d){"3"==a&&-1!=c.indexOf("性别")&&(d.each(function(){if(this.checked){var b=$(this.parentNode.parentNode).find(".label").html();return b.indexOf("男")>-1?gender=1:b.indexOf("女")>-1&&(gender=2),!1}}),gender>0&&window.localStorage&&window.localStorage.setItem("wjxge",gender))}function getMarriage(a,b,c,d){"3"==a&&-1!=c.indexOf("婚姻")&&(marriage||(d.each(function(){if(this.checked){var b=$(this.parentNode.parentNode).find(".label").html();return b.indexOf("未婚")>-1?marriage=1:(b.indexOf("已婚")>-1||b.indexOf("离异")>-1)&&(marriage=2),!1}}),marriage>0&&window.localStorage&&window.localStorage.setItem("wjxma",marriage)))}function getEducation(a,b,c,d){"3"==a&&(c=c.replace("你","您"),c=c.replace("您目前","您的").replace("您已取得","您的").replace("您取得","您的"),c=c.replace("教育程度","学历"),education||((c.indexOf("您的")>-1&&c.indexOf("学历")>-1||c.indexOf("您的文化")>-1||c.indexOf("您的")>-1&&c.indexOf("受教育")>-1||c.indexOf("您接受教育的水平")>-1||c.indexOf("您的教育水平")>-1)&&d.each(function(){if(this.checked){var b=$(this.parentNode.parentNode).find(".label").html();return b.indexOf("硕士")>-1||b.indexOf("博士")>-1||b.indexOf("研究生")>-1?education=5:b.indexOf("本科")>-1?education=4:b.indexOf("大专")>-1||b.indexOf("专科")>-1?education=3:b.indexOf("高中")>-1||b.indexOf("中专")>-1||b.indexOf("职高")>-1?education=2:(b.indexOf("初中")>-1||b.indexOf("小学")>-1||b.indexOf("没有")>-1||b.indexOf("无")>-1||b.indexOf("未上过学")>-1)&&(education=1),!1}}),education>0&&window.localStorage&&window.localStorage.setItem("wjxed",education)))}function getAge(a,b,c,d){var e,f,g,h,i,j;("3"==a||"7"==a||"1"==a)&&-1!=c.indexOf("年龄")&&(e="",f=0,3==a?d.each(function(a){return this.checked?(e=$(this.parentNode.parentNode).find(".label").html(),f=a,!1):void 0}):7==a?(g=$("select",b)[0],e=g.options[g.selectedIndex].text,f=g.selectedIndex-1):1==a&&(h=$("input",b),h&&(e=h.val(),f=0)),e&&(i=/[1-9][0-9]*/g,j=e.match(i),j&&0!=j.length&&(j.length>2||(2==j.length?(startAge=j[0],endAge=j[1]):1==j.length&&(0==f?endAge=j[0]:startAge=j[0]),startAge>0&&window.localStorage&&window.localStorage.setItem("wjxsa",startAge),endAge>0&&window.localStorage&&window.localStorage.setItem("wjxea",endAge)))))}function getIncome(a,b,c,d){var e,f,g,h,i,j,k;("3"==a||"7"==a||"1"==a)&&-1!=c.indexOf("收入")&&(e=2,(c.indexOf("月总收入")>-1||c.indexOf("月收入")>-1)&&(e=1),f="",g=0,3==a?d.each(function(a){return this.checked?(f=$(this.parentNode.parentNode).find(".label").html(),g=a,!1):void 0}):7==a?(h=$("select",b)[0],f=h.options[h.selectedIndex].text,g=h.selectedIndex-1):1==a&&(i=$("input",b),i&&(f=i.val(),g=0)),f&&(j=/[1-9][0-9]*/g,k=f.match(j),k&&0!=k.length&&(k.length>2||(2==k.length?(startIncome=k[0],endIncome=k[1]):1==k.length&&(0==g?endIncome=k[0]:startIncome=k[0]),2==e&&(startIncome=parseInt(startIncome/12),endIncome=parseInt(endIncome/12))))))}function getFamiliy(a,b,c,d){"3"==a&&-1!=c.indexOf("子女")&&(familiy||d.each(function(){if(this.checked){var b=$(this.parentNode.parentNode).find(".label").html();return b.indexOf("没有")>-1?familiy=1:b.indexOf("一个")>-1?familiy=2:b.indexOf("两个")>-1?familiy=3:(b.indexOf("三个")>-1||b.indexOf("以上")>-1)&&(familiy=4),!1}}))}function checkTitleDescMatch(){var a,b,c;for(title=$("#htitle").text()||"",title=changeEachWays(title,changeTitleObj),desc=changeEachWays($("#divDesc").text(),changeDescObj),a=0;a<pageHolder.length;a++)for(b=pageHolder[a].cuts,b||(b=pageHolder[a].cuts=$(".cutfield",pageHolder[a])),c=0;c<b.length;c++)desc+="|"+changeEachWays(b[c].innerText,changeDescObj)}function inintGetChange(){var b,c,d,e,a=(window.keyWordChange||"").split("┋");for(b=0;b<a.length;b++)if(c=a[b].split("|"),!(c.length<3))for(d=new Object,e=c[1].split(","),d.keyWord=c[0],d.wordList=c[2],j=0;j<e.length;j++){if(1==e[j]){changeTitleObj.push(d),changeDescObj.push(d),changeQuesObj.push(d),changeChooseObj.push(d),changeAnswerObj.push(d);break}2!=e[j]?3!=e[j]?4!=e[j]?5!=e[j]?6!=e[j]||changeAnswerObj.push(d):changeChooseObj.push(d):changeQuesObj.push(d):changeDescObj.push(d):changeTitleObj.push(d)}}function checkQuesMatch(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;0!=changeTitleObj.length||hasloadGetChange||(inintGetChange(),hasloadGetChange=!0);try{if("none"==$(b)[0].style.display)return;if(d=new Object,e=a.split("<span"),f=/^\s*\d+[\.、]|\(?\d+\)|（?\d+）/g,e[0]=e[0].replace(f,"").replace(/\s*\*$/g,"").replace(" ",""),$(b).find(".qinsert")&&(e[0]+=$(b).find(".qinsert").text()),d._topic=changeEachWays(e[0],changeQuesObj),d._orgtopic=changeEachWays(e[0],changeQuesObj),d._answer="",d._choose="",g="",h="","3"==c||"4"==c)i=$("div.label",b),window.hasTouPiao&&$("span.selTitle",b)[0]&&(i=$("span.selTitle",b)),i.each(function(){var b=this.innerHTML;g+=changeEachWays(b,changeChooseObj)+"|"}),"3"==c?(j=$("input[type='radio']",b),j.each(function(){return this.checked?(h=$(this.parentNode.parentNode).find(".label").html(),void 0):void 0})):"4"==c&&(k=!1,j=$("input[type='checkbox']",b),j.each(function(){if(this.checked){if(k)return h="",void 0;h=$(this.parentNode.parentNode).find(".label").html(),k=!0}}));else if("7"==c){for(l=$("select",b)[0].options,m=0;m<l.length;m++)n=l[m].text,g+=changeEachWays(n,changeChooseObj)+"|";o=$("select",b)[0],h=o.options[o.selectedIndex].text}else if("1"==c)p=$("input",b),p&&(h=p.val());else if("11"==c)i=$("input.custom",b),i.each(function(){var b=$(this).parent().next().text();g+=changeEachWays(b,changeChooseObj)+"|"});else{if("6"==c){if(q=$("table",b),r=$("tr.trlabel th",b),s=new Array,r)for(m=0;m<r.length;m++)s.push(r[m].innerText);if(t=$("tr.rowtitle",b),u=new Array,t)for(m=0;m<t.length;m++)u.push(t[m].innerText);for(v=0,w="",m=0;m<q[0].rows.length;m++)if(x=$(q[0].rows[m]).find("a.rate-off"),x&&!(x.length<1)){for(y=null,z=0;z<x.length;z++)x.eq(z).hasClass("rate-on")&&(y=x.eq(z));A="",y&&y.attr("dval")&&(B=y.attr("dval")-1,A=s.length>B?s[B]:""),d=new Object,C=changeEachWays(u.length>v?u[v]:"",changeQuesObj),d._topic=C,w+=C+"|",d._orgtopic=w,d._choose=s.join("|"),d._answer=changeEachWays(h.changeAnswerObj),qusInfArray.push(d),v++}return}if("9"==c){if(w="",q=$("table",b),q[0]){if(t=$("td.title",b),u=new Array,t)for(m=0;m<t.length;m++)u.push(t[m].innerText);for(v=0,m=0;m<q[0].rows.length;m++)if(x=$(q[0].rows[m]).find("input,textarea"),x&&!(x.length<1)){for(A="",D=0;D<x.length;D++)A+=x[D].value;for(C="",D=0;D<u.length;D++)C+=u[D];d=new Object,C=changeEachWays(C,changeQuesObj),d._topic=C,w+=C+"|",d._orgtopic=w,d._choose="",d._answer=changeEachWays(A,changeAnswerObj),qusInfArray.push(d),v++}}else E="",$(".topictext",b)[0].childNodes.forEach(function(a){if(E+="#text"==a.nodeName?a.nodeValue:$(a).text(),"INPUT"==a.tagName){d=new Object;var b=changeEachWays(E,changeQuesObj);d._topic=b,w+=b+"|",d._orgtopic=w,d._choose="",d._answer=changeEachWays(a.value,changeAnswerObj),qusInfArray.push(d),E=""}});return}}d._answer=changeEachWays(h,changeAnswerObj),d._choose=g,qusInfArray.push(d)}catch(F){}}function GetJpMatch(){var a,b,c,d,e,f;if(checkTitleDescMatch(),changeKeyWords(),jpmarr=matchJp(0),a=matchJp(1),jpmarr.length>0)for(b=0,c=new Array,d=0;d<jpmarr.length;d++){for(e=!1,jj=0;jj<c.length;jj++)if(c[jj]==jpmarr[d].PopulationsId){e=!0;break}e||(b>0?(jpMatchId+=",",jpMatchId+=jpmarr[d].PopulationsId):jpMatchId=jpmarr[d].PopulationsId,c.push(jpMatchId),b++)}if(a.length>0)for(b=0,c=new Array,d=0;d<a.length;d++){for(e=!1,jj=0;jj<c.length;jj++)if(c[jj]==a[d].PopulationsId){e=!0;break}e||(f=0,a[d].TopicKeyWords.length>0&&""!=a[d].TopicKeyWords[0]&&(f+=16),a[d].DescKeyWords.length>0&&""!=a[d].DescKeyWords[0]&&(f+=8),a[d].QuesKeyWords.length>0&&""!=a[d].QuesKeyWords[0]&&(f+=4),a[d].ChooseKeyWords.length>0&&""!=a[d].ChooseKeyWords[0]&&(f+=2),a[d].AnswerKeyWords.length>0&&""!=a[d].AnswerKeyWords[0]&&(f+=1),e||(b>0?(quesMatchId+=",",quesMatchId+=a[d].PopulationsId,jpWayText+=",",jpWayText+=f):(quesMatchId=a[d].PopulationsId,jpWayText=f)))}}function matchJp(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,b=new Array,c=new Array;for(keywordObj=new Array,d=(window.awardkeyNoMatch||"").split("┋"),e=0;e<d.length;e++)f=d[e].split("§"),f.length<8||(g=new Object,g.id=f[0],g.PopulationsId=f[1],g.TopicKeyWords=f[2].replace(/\，/g,",").split(","),g.DescKeyWords=f[3].replace(/\，/g,",").split(","),g.QuesKeyWords=f[4].replace(/\，/g,",").split(","),g.ChooseKeyWords=f[5].replace(/\，/g,",").split(","),g.AnswerKeyWords=f[6].replace(/\，/g,",").split(","),g.Weight=f[7],keywordObj.push(g));for(e=0;e<keywordObj.length;e++)if(!(keywordObj[e].TopicKeyWords.length>0&&""!=keywordObj[e].TopicKeyWords[0]&&!(h=matchkeyList(title,keywordObj[e].TopicKeyWords,title))||keywordObj[e].DescKeyWords.length>0&&""!=keywordObj[e].DescKeyWords[0]&&!(h=matchkeyList(desc,keywordObj[e].DescKeyWords,desc)))){if(keywordObj[e].QuesKeyWords.length>0&&""!=keywordObj[e].QuesKeyWords[0]||keywordObj[e].ChooseKeyWords.length>0&&""!=keywordObj[e].ChooseKeyWords[0]||keywordObj[e].AnswerKeyWords.length>0&&""!=keywordObj[e].AnswerKeyWords[0]){for(i=!1,j=0;j<qusInfArray.length;j++)if(!(keywordObj[e].QuesKeyWords.length>0&&""!=keywordObj[e].QuesKeyWords[0]&&!(h=matchkeyList(qusInfArray[j]._topic,keywordObj[e].QuesKeyWords,qusInfArray[j]._orgtopic))||keywordObj[e].ChooseKeyWords.length>0&&""!=keywordObj[e].ChooseKeyWords[0]&&!(h=matchkeyList(qusInfArray[j]._choose,keywordObj[e].ChooseKeyWords,qusInfArray[j]._choose)))){if(keywordObj[e].AnswerKeyWords.length>0&&""!=keywordObj[e].AnswerKeyWords[0]){if(1==a)continue;if(h=matchkeyList(qusInfArray[j]._answer,keywordObj[e].AnswerKeyWords,qusInfArray[j]._answer),!h)continue}if(i=!0)break}if(!i)continue}c.push(keywordObj[e])}for(k=0,l=0;l<c.length;l++)k=parseFloat(c[l].Weight)>k?parseFloat(c[l].Weight):k;for(m=0,l=0;l<c.length;l++)k==c[l].Weight&&c[l].PopulationsId!=m&&(m=c[l].PopulationsId,b.push(c[l]));if(1==b.length){for(n=b[0].PopulationsId,keywordObj=new Array,o=(window.awardkeyMatch||"").split("┋"),e=0;e<o.length;e++)f=o[e].split("§"),f.length<9||(g=new Object,g.id=f[0],g.PopulationsId=f[1],g.TopicKeyWords=f[2].replace(/\，/g,",").split(","),g.DescKeyWords=f[3].replace(/\，/g,",").split(","),g.QuesKeyWords=f[4].replace(/\，/g,",").split(","),g.ChooseKeyWords=f[5].replace(/\，/g,",").split(","),g.AnswerKeyWords=f[6].replace(/\，/g,",").split(","),g.Weight=f[7],g.parentIds=f[8].split(","),keywordObj.push(g));for(c=new Array,e=0;e<keywordObj.length;e++){if(p=!1,keywordObj[e].parentIds.length>0)for(j=0;j<keywordObj[e].parentIds.length;j++)if(n==keywordObj[e].parentIds[j]){p=!0;break}if(p&&!(keywordObj[e].TopicKeyWords.length>0&&""!=keywordObj[e].TopicKeyWords[0]&&!(h=matchkeyList(title,keywordObj[e].TopicKeyWords,title))||keywordObj[e].DescKeyWords.length>0&&""!=keywordObj[e].DescKeyWords[0]&&!(h=matchkeyList(desc,keywordObj[e].DescKeyWords,desc)))){if(keywordObj[e].QuesKeyWords.length>0&&""!=keywordObj[e].QuesKeyWords[0]||keywordObj[e].ChooseKeyWords.length>0&&""!=keywordObj[e].ChooseKeyWords[0]||keywordObj[e].AnswerKeyWords.length>0&&""!=keywordObj[e].AnswerKeyWords[0]){for(i=!1,j=0;j<qusInfArray.length;j++)if(!(keywordObj[e].QuesKeyWords.length>0&&""!=keywordObj[e].QuesKeyWords[0]&&!(h=matchkeyList(qusInfArray[j]._topic,keywordObj[e].QuesKeyWords,qusInfArray[j]._orgtopic))||keywordObj[e].ChooseKeyWords.length>0&&""!=keywordObj[e].ChooseKeyWords[0]&&!(h=matchkeyList(qusInfArray[j]._choose,keywordObj[e].ChooseKeyWords,qusInfArray[j]._choose)))){if(keywordObj[e].AnswerKeyWords.length>0&&""!=keywordObj[e].AnswerKeyWords[0]){if(1==a)continue;if(h=matchkeyList(qusInfArray[j]._answer,keywordObj[e].AnswerKeyWords,qusInfArray[j]._answer),!h)continue}if(i=!0)break}if(!i)continue}c.push(keywordObj[e])}}if(c.length>0){for(k=0,b=new Array,l=0;l<c.length;l++)k=parseFloat(c[l].Weight)>k?parseFloat(c[l].Weight):k;for(m=0,l=0;l<c.length;l++)k==c[l].Weight&&c[l].PopulationsId!=m&&(m=c[l].PopulationsId,b.push(c[l]))}window.needImportWeight&&0!=k&&k<parseFloat(window.needImportWeight)&&(needImport=1)}else window.needImportWeight&&0!=k&&k<parseFloat(window.needImportWeight)&&(needImport=1);return b}function matchkeyList(a,b,c){var e,f,g,h,i,j,k,l,m,n,d=!1;for(e=0;e<b.length;e++)if(f=b[e],a&&"#"==f.substr(0,1)){for(g=f.replace("#",""),h=a.split("|"),i=0;i<h.length;i++)if(h[i]==g)return d=!0}else if(c&&f.indexOf("&&")>-1){for(j=f.split("&&"),k=!0,i=0;i<j.length;i++){if(c.indexOf(j[i])<=-1){k=!1;break}c=c.replace(j[i],"")}if(k)return d=!0}else if(a&&f.indexOf("&")>-1)for(j=f.split("&"),l=a.split("|"),m=0;m<l.length;m++){for(n=l[m],k=!0,i=0;i<j.length;i++){if(n.indexOf(j[i])<=-1){k=!1;break}n=n.replace(j[i],"")}if(k)return d=!0}else if(a&&f&&a.indexOf(f)>-1)return d=!0;return d}function changeKeyWords(){changeTitleObj.length>0&&""!=title&&(title=changeWays(title,changeTitleObj)),changeDescObj.length>0&&""!=desc&&(desc=changeWays(desc,changeDescObj));for(var a=0;a<qusInfArray.length;a++)changeQuesObj.length>0&&""!=qusInfArray[a]._topic&&(qusInfArray[a]._topic=changeWays(qusInfArray[a]._topic,changeQuesObj)),changeChooseObj.length>0&&""!=qusInfArray[a]._choose&&(qusInfArray[a]._choose=changeWays(qusInfArray[a]._choose,changeChooseObj)),changeAnswerObj.length>0&&""!=qusInfArray[a]._answer&&(qusInfArray[a]._answer=changeWays(qusInfArray[a]._answer,changeAnswerObj))}function changeWays(a,b){var c,d,e,f,g,h,i,j;for(c=0;c<b.length;c++)for(d=b[c].wordList.split(","),e=0;e<d.length;e++)if(f=d[e],g=!1,a&&f.indexOf("&&")>-1){for(h=f.split("&&"),i=!0,j=0;j<h.length;j++)if(a.indexOf(h[j])<=-1){i=!1;break}if(i&&(g=!0),g)for(j=0;j<h.length;j++)a=0==j?a.replace(h[j],b[c].keyWord):a.replace(h[j],"")}else a&&f&&a.indexOf(f)>-1&&(g=!0,g&&(a=a.replace(f,b[c].keyWord)));return a}function changeEachWays(a,b){var c,d,e,f,g,h,i,j;if(!a)return"";for(c=0;c<b.length;c++)for(d=b[c].wordList.split(","),e=0;e<d.length;e++)if(f=d[e],g=!1,a&&f.indexOf("&&")<=-1&&f.indexOf("&")>-1){for(h=f.split("&"),i=!0,j=0;j<h.length;j++)if(a&&a.indexOf(h[j])<=-1){i=!1;break}if(i&&(g=!0),g)for(j=0;j<h.length;j++)a=0==j?a.replace(h[j],b[c].keyWord):a.replace(h[j],"")}return a}var title="",desc="",qusInfArray=new Array,anIndex=0,changeTitleObj=new Array,changeDescObj=new Array,changeQuesObj=new Array,changeChooseObj=new Array,changeAnswerObj=new Array,hasloadGetChange=!1;